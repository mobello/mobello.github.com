---
layout: confluence
title: Runtime
descriptoin:
keyword: Mobello, mobello, 모벨로, HTML5, javascript, CSS3, mobile, UI Framework 
---

<p><a href="http://mobello.github.com/api/symbols/tau.rt.Runtime.html" class="external-link" rel="nofollow">Runtime</a>은 mobello의 핵심모듈이다. 간단하게 살펴보도록 하겠습니다.</p><p>목차:</p><p><div>
<ul>
    <li><a href='#Runtime-RuntimeOverview'>Runtime Overview</a></li>
<ul>
    <li><a href='#Runtime-MultiAppSingleApp'>MultiApp / SingleApp</a></li>
    <li><a href='#Runtime-modulestack'>module stack</a></li>
</ul>
    <li><a href='#Runtime-AppLifecycle'>App Lifecycle</a></li>
</ul></div></p><h2 id="Runtime-RuntimeOverview">Runtime Overview</h2><p><a href="http://mobello.github.com/api/symbols/tau.rt.Runtime.html" class="external-link" rel="nofollow">Runtime</a> 이란것은 Mobello의 제일 코어단에 있는 핵심모듈입니다.  아래의 그림은 추상화된 <a href="http://mobello.github.com/api/symbols/tau.rt.Runtime.html" class="external-link" rel="nofollow">Runtime</a>과 상위 모듈간의 구성도입니다.</p><p><img class="confluence-embedded-image" src="attachments/6751581/7536643.png" data-image-src="attachments/6751581/7536643.png"></p><p><a href="http://mobello.github.com/api/symbols/tau.rt.Runtime.html" class="external-link" rel="nofollow">Runtime</a>은 lifecycle Manager, Event Manager, Theme Manager로 구성되어있습니다.</p><ul><li>lifecycle Manager - <a href="http://mobello.github.com/api/symbols/tau.rt.Module.html" class="external-link" rel="nofollow">Module</a>(<a href="http://mobello.github.com/api/symbols/tau.rt.Application.html" class="external-link" rel="nofollow">Applicaton</a>)들의  로드/실행/삭제/정지 lifecycle를 관리</li><li>Event Manager - 웹이벤트를 Modello 이벤트로 전환하여 이벤트가 전파되도록 하는 이벤트 관리</li><li>theme Manager - 는 테마 로드/적용/삭제 관리</li></ul><p> </p><h3 id="Runtime-MultiAppSingleApp">MultiApp / SingleApp</h3><p><span style="color: rgb(0,0,0);"><a href="http://mobello.github.com/api/symbols/tau.rt.Runtime.html" class="external-link" rel="nofollow">Runtime</a>은 single app 과 multi app 환경을 모두 지원합니다. single app은 뒤에 launcher.html?app=demo 이렇게 app의 이름으로 된 url형태가 되면 single app 환경으로 동작됩니다 , multi app은 뒤에 launcher.html 이렇게 url형태가 되면 multi app으로 동작합니다.</span></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th style="text-align: center;" class="confluenceTh"> Multi App</th><th style="text-align: center;" class="confluenceTh">Single App</th></tr><tr><td class="confluenceTd"><img class="confluence-embedded-image image-center" src="attachments/6751581/7536682.png" data-image-src="attachments/6751581/7536682.png"></td><td class="confluenceTd"><p><img class="confluence-embedded-image image-center" src="attachments/6751581/7536681.png" data-image-src="attachments/6751581/7536681.png"></p></td></tr></tbody></table></div><p><span style="color: rgb(0,0,0);">  </span></p><p><span style="color: rgb(0,0,0);">위의 오른쪽 그림처럼 single app에서는 하나의 앱이 바로 화면에 나오지만 위의 왼쪽 그림처럼 multi app에서는 dashboard가 처음 화면에 나타납니다. dashboard에서는 각각 shortcut들이 격자 모양으로 배치되어 있습니다. shortcut를 tap(터치)하면 해당하는 app이 실행됩니다. 다시 dashboard로 돌아오려면 위의 왼쪽그림에서 아래에 SystemDock에 있는 home 버튼을 tap하면 다시 dashboard로 돌아옵니다. <span style="color: rgb(0,0,0);">SystemDock</span>은 단지 dashboard가 사용되는 multiapp에서만 사용됩니다.  더 자세한 것은 Single and Multi App 문서를 참고 하면 더 많은 정보를 얻을 수 있습니다.</span></p><h3 id="Runtime-modulestack">module stack</h3><p><span style="color: rgb(0,0,0);"><a href="http://mobello.github.com/api/symbols/tau.rt.Runtime.html" class="external-link" rel="nofollow">Runtime</a> 은 <a href="http://mobello.github.com/api/symbols/tau.rt.Module.html" class="external-link" rel="nofollow">Module</a>(<a href="http://mobello.github.com/api/symbols/tau.rt.Application.html" class="external-link" rel="nofollow">Application</a>)을 스택으로 관리하고 있습니다. 현재 최상위에 있는 인스턴스가 active한 <a href="http://mobello.github.com/api/symbols/tau.rt.Module.html" class="external-link" rel="nofollow">Module</a>(<a href="http://mobello.github.com/api/symbols/tau.rt.Application.html" class="external-link" rel="nofollow">Application</a>)입니다. 모든 이벤트는 이 모듈로 전달 되게 됩니다. </span></p><p><span style="color: rgb(0,0,0);"><img class="confluence-embedded-image" src="attachments/6751581/7536683.png" data-image-src="attachments/6751581/7536683.png"><br /></span></p><p><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">위와 같은 상황에서 DashBoard에서 </span>Stocks App을 선택하게 되면 스택에서 위치가 <span style="color: rgb(0,0,0);">Stocks App이</span> push되어 최상위가 됩니다. 만약 <span style="color: rgb(0,0,0);">Stocks App</span>가 이미 스택에 존재 했었다면 , <span style="color: rgb(0,0,0);">Stocks App</span>를 스택에서 빼서 최상위로 push하게 됩니다. <span style="color: rgb(0,0,0);">그럼 이제 <span style="color: rgb(0,0,0);">Stocks App이</span> 모든 이벤트를 전달받게 됩니다.</span></span></p><h2 id="Runtime-AppLifecycle">App Lifecycle</h2><p>App Lifecycle은 크게 다음과 같은 단계로 진행됩니다.</p><div class="image-wrap" style=""><img src="download/temp/plantuml923804236691344726.png" style=""/></div><div><strong><br /></strong></div><ol><li><strong>install</strong>: 설치할 앱의 메타정보를 Runtime에서 읽어들이는 작업<br /><ul><li><a href="http://mobello.github.com/api/symbols/tau.rt.Runtime.html" class="external-link" rel="nofollow">Runtime</a>이 launch되면 Single-tasking로 동작할지 아니면 Multi-tasking으로 동작할지 확인한다<ul><li>URI에서 [설치폴더]/launcher.html?app=xxx와 같이 실행할 앱의 이름을 지정하면 Single-tasking으로 동작, 그렇지 않을경우 Multi-tasking으로 동작</li></ul></li><li>Multi-tasking: 설치폴더에 있는 config.json을 읽어들임</li><li>Single-tasking: apps 폴더에 있는 해당 앱의 config.json을 읽어들임</li></ul></li><li><strong>start</strong>: 해당 앱을 실행해서 화면을 생성하고  사용자의 입력을 기다림<ul><li>Multi-tasking: Dashboard를 실행하고 config.json에 apps로 설정된 앱들을 설치함</li><li>Single-tasking: [설치폴더]/launcher.html?app=xxx로 지정된 앱을 실행, xxx를 demo로 지정했다면 demo 앱이 실행됨</li></ul></li><li><strong>stop</strong>: Multi-tasking일 경우에만 적용되며 현재 실행중인 앱을 정지시키고 Runtime에서 인스턴스를 삭제함<ul><li>Dashboard의 Systemdock에서 삭제할 Shortcut을 길게 누른 다음 [-] Overlay를 터치하면 해당 앱이 중지됨</li></ul></li><li><strong>uninstall</strong>: Multi-tasking일 경우에만 적용되며 Dashboard에서 해당 앱을 제거함<ol><li>Dashboard에서 uninstall할 Shortcut을 길게 누른 다음 [X] Overlay를 터치하면 해당 uninstall 됨</li></ol></li></ol>
